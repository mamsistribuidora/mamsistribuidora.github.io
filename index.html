<!DOCTYPE html>
<html lang="pt-pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MAM Distribuidora | Oficial</title>
    
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>

    <style>
        :root { --gold: #D4AF37; --dark: #0a0a0a; --gray: #1a1a1a; }
        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Segoe UI', sans-serif; }
        
        body { 
            background: linear-gradient(rgba(0,0,0,0.9), rgba(0,0,0,0.9)), url('https://images.unsplash.com/photo-1598488035139-bdbb2231ce04?auto=format&fit=crop&w=1600&q=80');
            background-size: cover; background-attachment: fixed; color: #fff; min-height: 100vh;
        }

        /* HEADER COM LOGO OFICIAL E PESQUISA */
        header { 
            background: var(--dark); padding: 10px 20px; border-bottom: 2px solid var(--gold);
            display: flex; align-items: center; justify-content: space-between; position: sticky; top: 0; z-index: 1000;
        }
        .logo-img { height: 50px; border-radius: 50%; border: 1px solid var(--gold); }
        .search-center { flex: 1; max-width: 500px; margin: 0 15px; }
        .search-center input { width: 100%; padding: 10px 20px; border-radius: 25px; border: 1px solid #333; background: #000; color: #fff; outline: none; }

        /* LAYOUT PRINCIPAL */
        .main-container { display: flex; flex-direction: column; }
        @media (min-width: 992px) {
            .main-container { flex-direction: row; }
            .sidebar { width: 280px; display: block !important; height: calc(100vh - 72px); position: sticky; top: 72px; }
        }

        /* MENU DE 8 OP√á√ïES (LATERAL) */
        .sidebar { background: #050505; border-right: 1px solid #222; padding: 20px; display: block; }
        .nav-item { 
            padding: 15px; color: #bbb; cursor: pointer; border-radius: 10px; margin-bottom: 8px;
            display: flex; align-items: center; gap: 12px; transition: 0.3s; border-left: 3px solid transparent;
        }
        .nav-item:hover, .nav-active { background: #151515; color: var(--gold); border-left-color: var(--gold); font-weight: bold; }

        /* CORPO DA P√ÅGINA */
        .content { flex: 1; padding: 25px; }
        .section-title { color: var(--gold); margin-bottom: 20px; border-bottom: 1px solid #222; padding-bottom: 10px; text-transform: uppercase; letter-spacing: 2px; }

        /* DISCOS (M√öSICAS E ARTISTAS) */
        .grid-mam { display: grid; grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); gap: 20px; margin-bottom: 40px; }
        .disco-box { background: #111; padding: 15px; border-radius: 20px; text-align: center; border: 1px solid #222; cursor: pointer; transition: 0.4s; }
        .disco-capa { width: 100%; aspect-ratio: 1/1; border-radius: 50%; border: 5px solid #222; object-fit: cover; transition: 0.8s; }
        .disco-box:hover .disco-capa { transform: rotate(360deg); border-color: var(--gold); }
        .disco-box h4 { font-size: 0.85rem; margin-top: 10px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

        /* LISTA DE RECOMPENSA (TAREFAS REAIS) */
        .recompensa-list { background: rgba(212,175,55,0.05); border: 1px solid #333; border-radius: 15px; padding: 20px; }
        .tarefa-item { 
            display: flex; justify-content: space-between; align-items: center; 
            background: #000; padding: 15px; border-radius: 10px; margin-bottom: 10px; border: 1px solid #222;
        }
        .btn-acao { background: var(--gold); color: #000; padding: 8px 15px; border: none; border-radius: 5px; font-weight: bold; cursor: pointer; }

        /* FOOTER */
        footer { background: #000; padding: 40px 20px; text-align: center; border-top: 1px solid var(--gold); margin-top: 50px; }
        .hidden { display: none !important; }
        .card-info { background: #111; padding: 20px; border-radius: 15px; border: 1px solid var(--gold); margin-bottom: 20px; }
    </style>
</head>
<body>

<div id="authArea">
    <div style="max-width:400px; margin: 100px auto; text-align:center;" class="recompensa-list">
        <img src="https://i.ibb.co/LhqZz1L/mam-logo.jpg" class="logo-img" style="height:80px; margin-bottom:20px;">
        <h2 style="color:var(--gold)">MAM DISTRIBUIDORA</h2>
        <input type="email" id="emailL" placeholder="E-mail" style="width:100%; padding:12px; margin:10px 0; background:#000; border:1px solid #333; color:#fff;">
        <input type="password" id="passL" placeholder="Senha" style="width:100%; padding:12px; margin-bottom:20px; background:#000; border:1px solid #333; color:#fff;">
        <button onclick="entrar()" class="btn-acao" style="width:100%; padding:15px;">ENTRAR NO PAINEL</button>
    </div>
</div>

<div id="appArea" class="hidden">
    <header>
        <img src="https://i.ibb.co/LhqZz1L/mam-logo.jpg" class="logo-img">
        <div class="search-center">
            <input type="text" placeholder="Pesquisar m√∫sicas, artistas, produtores..." oninput="filtrar(this.value)">
        </div>
        <div id="userStatus" style="font-size: 0.7rem; color: var(--gold); text-align:right;"></div>
    </header>

    <div class="main-container">
        <aside class="sidebar">
            <div class="nav-item nav-active" onclick="nav('home')">üè† 1. P√°gina Inicial</div>
            <div class="nav-item" onclick="nav('perfil')">üë§ 2. Meu Perfil</div>
            <div class="nav-item" onclick="nav('artista')">üë®‚Äçüé® 3. Criar Artista</div>
            <div class="nav-item" onclick="nav('lancar')">üì§ 4. Lan√ßar M√∫sica</div>
            <div class="nav-item" onclick="nav('minhas')">üé∂ 5. Minhas M√∫sicas</div>
            <div class="nav-item" onclick="nav('carteira')">üí∞ 6. Minha Carteira</div>
            <div class="nav-item" onclick="nav('ceo')">üëî 7. Informa√ß√£o CEO</div>
            <div class="nav-item" onclick="sair()" style="color:red; margin-top:20px;">üö™ 8. Terminar Sess√£o</div>
            
            <div id="adminLink" class="nav-item hidden" onclick="nav('admin')" style="color:var(--gold); border:1px solid var(--gold); margin-top:15px;">üëë ADMIN MATIAS</div>
        </aside>

        <main class="content">
            <section id="pageHome">
                <div class="card-info">
                    <h4 style="color:var(--gold)">APOIA MEUS PROJECTOS</h4>
                    <p style="font-size:0.8rem; margin-top:5px;">IBAN BFA: AO06 0000 0000 0000 0000 0 | CEO: Matias Manuel</p>
                </div>

                <h3 class="section-title">M√∫sicas & Artistas MAM</h3>
                <div class="grid-mam" id="listaDiscos">
                    </div>

                <h3 class="section-title">Ca√ßa Recompensa (Ganhos Reais)</h3>
                <div class="recompensa-list">
                    <div class="tarefa-item">
                        <div><b>Seguir CEO no TikTok</b><br><small>Ganho: +500 Kz</small></div>
                        <button class="btn-acao" onclick="window.open('https://tiktok.com/@playseanarsenio')">EXECUTAR</button>
                    </div>
                    <div class="tarefa-item">
                        <div><b>Assistir V√≠deo Parceiro</b><br><small>Perfil Normal: 20% | VIP: 50%</small></div>
                        <button class="btn-acao" onclick="fazerTarefa('video1')">ASSISTIR</button>
                    </div>
                    <div class="tarefa-item">
                        <div><b>Convidar Amigo (Link)</b><br><small>MAM paga 500 Kz por registo</small></div>
                        <button class="btn-acao" onclick="copyLink()">COPIAR LINK</button>
                    </div>
                </div>
            </section>

            <section id="pageCarteira" class="hidden">
                <div class="disco-box" style="padding:40px; margin-bottom:20px;">
                    <p>SALDO DISPON√çVEL</p>
                    <h1 id="meuSaldo" style="font-size:3.5rem; color:var(--gold);">0,00 Kz</h1>
                </div>
                <div class="recompensa-list">
                    <h4>Solicitar Levantamento</h4>
                    <select id="metodo" style="width:100%; padding:10px; margin:10px 0; background:#000; color:#fff;">
                        <option>BFA (Angola)</option><option>BAI (Angola)</option><option>Multicaixa Express</option><option>PayPal (Global)</option>
                    </select>
                    <input type="text" id="dadosSaque" placeholder="IBAN ou E-mail PayPal" style="width:100%; padding:10px; margin-bottom:10px;">
                    <button class="btn-acao" style="width:100%" onclick="sacar()">SOLICITAR SAQUE REAL</button>
                </div>
            </section>
        </main>
    </div>
</div>

<footer>
    <img src="https://i.ibb.co/LhqZz1L/mam-logo.jpg" style="height:40px; border-radius:50%; margin-bottom:10px;">
    <p><b>MAM DISTRIBUIDORA</b> - Matias Ars√©nio Manuel [cite: 2026-01-27]</p>
    <p style="font-size:0.75rem;">A cura√ß√£o que as grandes plataformas n√£o oferecem. [cite: 2026-01-28]</p>
    <p style="margin-top:10px; opacity:0.5;">mamfilhos29@gmail.com | Luanda, Angola [cite: 2026-01-23]</p>
</footer>

<script>
    // CONFIGURA√á√ÉO REAL DO MATIAS
    const firebaseConfig = {
        apiKey: "AIzaSyBBsZS8EpszUtikaKS8B5te8C7Q9Ow-9wo",
        authDomain: "mam-distribuidora.firebaseapp.com",
        projectId: "mam-distribuidora",
        storageBucket: "mam-distribuidora.firebasestorage.app",
        messagingSenderId: "670857002452",
        appId: "1:670857002452:web:404822b5376075e520ea41"
    };
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth(); const db = firebase.firestore();

    async function entrar() {
        const e = document.getElementById('emailL').value, p = document.getElementById('passL').value;
        try {
            await auth.signInWithEmailAndPassword(e, p);
            // Taxa de Login para MAM (3000 KZ)
            await db.collection("mam_global").doc("caixa").set({ total: firebase.firestore.FieldValue.increment(3000) }, {merge:true});
        } catch(err) { alert("Acesso Negado!"); }
    }

    auth.onAuthStateChanged(user => {
        if(user) {
            document.getElementById('authArea').classList.add('hidden');
            document.getElementById('appArea').classList.remove('hidden');
            if(user.email === "mamfilhos24@gmail.com") document.getElementById('adminLink').classList.remove('hidden');
            
            db.collection("users").doc(user.uid).onSnapshot(doc => {
                const d = doc.data();
                document.getElementById('userStatus').innerText = d.nome + " | Perfil " + d.nivel;
                document.getElementById('meuSaldo').innerText = d.saldo.toLocaleString() + " Kz";
            });
            carregarMusicas();
        } else {
            document.getElementById('authArea').classList.remove('hidden');
            document.getElementById('appArea').classList.add('hidden');
        }
    });

    function carregarMusicas() {
        db.collection("musicas").onSnapshot(snap => {
            const grid = document.getElementById('listaDiscos');
            grid.innerHTML = "";
            snap.forEach(doc => {
                const m = doc.data();
                grid.innerHTML += `
                    <div class="disco-box" onclick="abrirMusica('${m.titulo}', '${m.artista}', '${m.capa}', '${m.audio}')">
                        <img src="${m.capa}" class="disco-capa">
                        <h4>${m.titulo}</h4>
                        <small style="color:var(--gold)">${m.artista}</small>
                    </div>`;
            });
        });
    }

    function abrirMusica(t, a, c, s) {
        alert("MAM DISTRIBUIDORA\n\nT√≠tulo: " + t + "\nArtista: " + a + "\n\nA reproduzir √°udio real...");
        const som = new Audio(s); som.play();
        // Lucro MAM por Play (2000 KZ)
        db.collection("mam_global").doc("caixa").update({ total: firebase.firestore.FieldValue.increment(2000) });
    }

    function nav(p) {
        document.querySelectorAll('main section').forEach(s => s.classList.add('hidden'));
        document.getElementById('page' + p.charAt(0).toUpperCase() + p.slice(1)).classList.remove('hidden');
        document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('nav-active'));
        event.currentTarget.classList.add('nav-active');
    }

    function sair() { auth.signOut().then(() => location.reload()); }
</script>

</body>
</html>
